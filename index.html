<html>
  <head>
    <script src="lib/codemirror-compressed.js"></script>
    <script src="lib/matchbrackets.js"></script>
    <script src="lib/closebrackets.js"></script>
    <script src="lib/highlight.pack.js"></script>
    <script src="lib/base64.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/0.4.0/trianglify.min.js"></script>
    <link rel="stylesheet" href="css/codemirror.css" />
    <link rel="stylesheet" href="css/dracula.css" />
		<link rel="stylesheet" href="css/hl-default.css" />
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
  </head>
  <style>
    body {
      font-family: Roboto;
      font-size: 13px;
      margin: 0px;
    }
    .CodeMirror {
      line-height: 1.4em;
      font-size: 14px;
      font-family: Inconsolata,Monaco,"Andale Mono","Lucida Console","Bitstream Vera Sans Mono","Courier New",Courier,monospace;
      overflow: hidden;
      height: 100%;
      background: 0 0;
    }

    div.CodeMirror span.CodeMirror-matchingbracket {
      color: #E64A19;
    }

    code {
      font-family: Inconsolata;
      font-size: 14px;
    }
    .btn {
      padding: 6px 12px;
      font-size: 16px;      
      border: 1px solid transparent;
      border-radius: 4px;
      outline: none;
      background-color: #616161 !important;
      color: #E0E0E0;
    }
    .btn:hover {
      background-color: #E0E0E0 !important;
      color: #616161;
      cursor: pointer;
    }
    
    .wasm-error { background-color: orange; }

    #container {
      width: 100%;
      margin-top: 10px;
    }
    #toolbarContainer {
      padding: 10px;
      background-color: #424242 !important;
    }
    #contentContainer {
      display: flex;
      flex-direction: row;
      padding: 10px 10px 10px 10px;
      background-color: #EEEEEE !important;  
      height: 800px;
    }
    #inputContainer {
      padding: 5px;
      flex: auto;
      overflow: hidden;
    }
    #outputContainer {
      padding: 5px;
      width: 400px;
      overflow: auto;
    }
    #spinnerContainer {
      padding-top: 6px;
      float: right;
    }
    #footerContainer {
      clear: both;
      font-family: Roboto;
      padding: 10px;
      background-color: #E0E0E0 !important;
    }
    .tab {
      padding: 10px;
      /*border: 1px solid transparent;*/
      border-bottom: 2px #BDBDBD solid; 
      /*background-color: #E0E0E0;*/
      font-family: Roboto;
      font-size: 14px;
    }


  </style>
  <body onload="begin()">
    <div style="position: absolute; top: 0px; width: 100%;">
      <div style="position: absolute;"><canvas id="banner"></canvas></div>
      <div style="position: absolute;">
        <div style='padding: 10px; font-size: 28px;'>
          WebAssembly Explorer
        </div>
        <div id="console" style='padding-left: 10px; margin-top: -5px; font-size: 12px;'>
        </div>
      </div>
    </div>


  	<div style="width: 100%; margin-top: 128px;">

 
      <div id="container">
        <div id="toolbarContainer">
          <button id="compile" class="btn">Compile</button>
          <!-- <button id="share" class="btn">Share</button> -->
          <button id="beautify" class="btn">Beautify</button>
          <div id="spinnerContainer"><img id="spinner" src="img/ripple.svg" style="vertical-align: middle; padding-left: 4px; visibility: hidden;" /></div>
        </div>
        <div id="contentContainer">
          <div id="inputContainer">
            <div class="tab">WebAssembly (S-Expression Format)</div>
            <textarea id="wastCode"></textarea>
          </div>
          <div id="outputContainer">
            <div class="tab">x86/64 (SpiderMonkey)</div>
            
            <pre><code id="x86Code" class="x86asm"></code></pre>
          </div>
        </div>
        <div id="footerContainer">Built with CodeMirror, Highlight.js, Emscripten, SpiderMonkey, Binaryen and Capstone.js.</div>
      </div>
		</div>
    <script src="explorer.js"></script>
  </body>
</html>